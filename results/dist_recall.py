import matplotlib.pyplot as plt
import numpy as np

doc_cut = [10, 20, 30, 40, 50, 60, 70, 80, 90, 
    100, 110, 120, 130, 140, 150, 160, 170, 180, 190, 
    200, 210, 220, 230, 240, 250, 260, 270]
doc_cut_dist_cmp = [526484, 1022277, 1485321, 1923507, 2336087, 2729039, 3108448, 
    3467789, 3816211, 4154596, 4476526, 4789931, 5091402, 5384359, 5671177, 
    5948854, 6221070, 6486114, 6743329, 6990811, 7234126, 7473457, 7701122, 
    7924845, 8145359, 8363097, 8574381]
doc_cut_recall = [0.3715807826423867, 0.614025571483921, 0.7549205734211546,
    0.8466873304920574, 0.8951375435877567, 0.9294459511817125, 
    0.9529833397907788, 0.9668539325842697, 0.9762301433552887, 
    0.9838240991863618, 0.9887640449438202, 0.9921735761332817, 
    0.9944207671445177, 0.9967648198372724, 0.9976946919798527, 
    0.9984889577683068, 0.9989538938395971, 0.9992057342115459, 
    0.9996319256102286, 0.9997287872917474, 0.9997481596280512, 
    0.9997869043006586, 0.9997869043006586, 0.9997869043006586, 
    0.9999806276636962, 0.9999806276636962, 1.0]

doc_global_cut = [80, 90, 100, 110, 120, 130, 140, 150, 160, 170, 180]
doc_global_dist_cmp = [4789931, 5238164, 5671177, 6087275, 6486114, 6869524, 7234126, 7588314, 7924845, 8252363, 8574381]
doc_global_cut_recall = [0.9921735761332817, 0.9958543200309957, 0.9976946919798527, 0.998721425803952, 0.9992057342115459, 0.9996319256102286, 
               0.9997481596280512, 0.9997869043006586, 0.9997869043006586, 0.9999806276636962, 1.0]

query_cut = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]
query_cut_dist_cmp = [1200272, 2526790, 4033338, 
    5965752, 8740127, 11963777, 15484085, 19108063, 22105107, 24620869, 
    26475913, 27847444]
query_cut_recall = [0.46768694304533126, 0.7514722975590856, 0.8858000774893452, 
    0.9572839984502131, 0.9814413018209996, 0.9915924060441689, 
    0.9964936071290198, 0.998392096086788, 0.9994575745834948, 
    0.9999031383184812, 0.9999031383184812, 1.0]

heap_factor = [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 
    1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9, 2.0]
k_means_dist_cmp = [31064830, 16240617, 14227245, 12434985, 10558848, 8899879, 7369931, 
    6102253, 5062290, 4195993, 3485266, 2914153, 2456020, 
    2091702, 1802168, 1572006, 1385401, 1228095, 1101357, 
    999576, 915711]
k_means_recall = [1.0, 0.9984502130956994, 0.9981790003874468, 0.9981208833785354, 0.9980433940333204, 
    0.9975784579620303, 0.9962223944207671, 0.9926578845408757, 
    0.9877760557923285, 0.9794653235180163, 0.964025571483921, 
    0.9310538550949244, 0.8807826423866718, 0.8234598992638512, 
    0.7654203796977915, 0.7108485083301046, 0.6608291359938009, 
    0.6137156141030609, 0.5744866330879504, 0.5397907787679194, 
    0.5090662533901589]

# Plotting
plt.figure(figsize=(10, 6))
plt.plot(doc_cut_recall, doc_cut_dist_cmp, label='Doc Cut', marker='o')
plt.plot(query_cut_recall, query_cut_dist_cmp, label='Query Cut', marker='s')
plt.plot(k_means_recall, k_means_dist_cmp, label='K-Means Heap Factor', marker='^')
plt.plot(doc_global_cut_recall, doc_global_dist_cmp, label='Doc global cut', marker='.')

# Labels and title
plt.xlabel('Recall')
plt.ylabel('Distance Computations')
plt.title('Comparison of Distance Computations vs Recall')
plt.legend()
plt.grid(True)

# 保存图像
plt.savefig('results/safe_dist_recall.png', dpi=300, bbox_inches='tight')

# Show plot
plt.show()


